{% extends 'base.html' %}

{% block title %}Lab:Analysis{% endblock %}

{% block extra_css %}
<style>
    .test-container {
        padding: 2rem;
        text-align: center;
        background-color: #f8f9fa;
        border-radius: 0.5rem;
        margin: 2rem 0;
    }
    .loading-test {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        z-index: 9999;
        text-align: center;
        padding-top: 20%;
    }
    .spinner {
        width: 3rem;
        height: 3rem;
        border: 0.4rem solid #e9ecef;
        border-top: 0.4rem solid #007bff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 2rem;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
{% endblock %}

{% block content %}
<div class="test-container">
    <h1>Simple Analysis Test Page</h1>
    <p>If you can see this, Django template rendering is working!</p>
    
    <button onclick="showLoading()" class="btn btn-primary">Test Loading Animation</button>
    
    <form action="{% url 'timeseries:run_pipeline_htmx' %}" method="post" style="margin-top: 2rem;">
        {% csrf_token %}
        <input type="hidden" name="symbols" value="MSFT,AAPL">
        <input type="hidden" name="source_actual_or_synthetic_data" value="synthetic">
        <button type="submit" class="btn btn-success">Simple Form Test</button>
    </form>
</div>

<div id="loading" class="loading-test">
    <div class="spinner"></div>
    <h3>Loading...</h3>
    <p>Q: This is a test loading message</p>
</div>

<script>
function showLoading() {
    document.getElementById('loading').style.display = 'block';
    setTimeout(function() {
        document.getElementById('loading').style.display = 'none';
    }, 3000);
}
</script>
{% endblock %}